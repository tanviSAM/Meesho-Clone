// var dataarr = [
//     {
//         image: "https://images.meesho.com/images/products/42635271/ghhfp_512.jpg",
//         title: 'Twinkling Graceful Women Necklaces & Chains',
//         mrp: 194,
//         price: 136,
//         rating: 3.5,
//         review: 18
//     },
//     {
//         image: "https://images.meesho.com/images/products/41391143/vjjry_512.jpg",
//         title: 'Shimmering Bejeweled Women Necklaces & Chains',
//         mrp: 155,
//         price: 109,
//         rating: 3.8,
//         review: 5
//     },
//     {
//         image: "https://images.meesho.com/images/products/48166645/nv6fz_512.jpg",
//         title: 'Elite Glittering Women Necklaces & Chains',
//         mrp: 217,
//         price: 152,
//         rating: 3.8,
//         review: 7
//     },
//     {
//         image: "https://images.meesho.com/images/products/42583405/1w26r_512.jpg",
//         title: 'Sizzling Bejeweled Women Necklaces & Chains',
//         mrp: 226,
//         price: 126,
//         rating: 3.9,
//         review: 7
//     },
//     {
//         image: "https://images.meesho.com/images/products/17764710/bfaa9_512.jpg",
//         title: 'Twinkling Glittering Women Necklaces & Chains',
//         mrp: 290,
//         price: 209,
//         rating: 3.6,
//         review: 5
//     },
//     {
//         image: "https://images.meesho.com/images/products/36692041/jma69_512.jpg",
//         title: 'Elite Glittering Women Necklaces & Chains',
//         mrp: 129,
//         price: 98,
//         rating: 3.0,
//         review: 7
//     },
//     {
//         image: "https://images.meesho.com/images/products/3894558/1_512.jpg",
//         title: 'Twinkling Elegant Jewellery Sets',
//         mrp: 234,
//         price: 209,
//         rating: 3.9,
//         review: 14
//     },
//     {
//         image: "https://images.meesho.com/images/products/64578459/aubql_512.jpg",
//         title: 'Allure Bejeweled Women Necklaces & Chains',
//         mrp: 480,
//         price: 445,
//         rating: 5.0,
//         review: 2
//     },
//     {
//         image: "https://images.meesho.com/images/products/27523948/0ymo9_512.jpg",
//         title: 'Graceful Rings',
//         mrp: 349,
//         price: 249,
//         rating: 5.0,
//         review: 4
//     },
//     {
//         image: "https://images.meesho.com/images/products/42526604/sworu_512.jpg",
//         title: 'Shimmering Fancy Women Necklaces & Chains',
//         mrp: 159,
//         price: 107,
//         rating: 3.2,
//         review: 6
//     },
//     {
//         image: "https://images.meesho.com/images/products/9038047/35762_512.jpg",
//         title: 'Allure Bejeweled Alloy Womens Rings',
//         mrp: 1029,
//         price: 929,
//         rating: 3.7,
//         review: 11
//     },
//     {
//         image: "https://images.meesho.com/images/products/30806778/s5js2_512.jpg",
//         title: 'Fancy Women Necklaces & Chains',
//         mrp: 298,
//         price: 255,
//         rating: 4.0,
//         review: 2
//     },
//     {
//         image: "https://images.meesho.com/images/products/31822714/kn0fa_512.jpg",
//         title: 'Charming Women Necklaces & Chains',
//         mrp: 445,
//         price: 415,
//         rating: 4.0,
//         review: 3
//     },
//     {
//         image: "https://images.meesho.com/images/products/16413200/9f484_512.jpg",
//         title: 'Sizzling Glittering Rings',
//         mrp: 259,
//         price: 180,
//         rating: 4.1,
//         review: 13
//     },
//     {
//         image: "https://images.meesho.com/images/products/4028855/1_512.jpg",
//         title: 'Elite Chic Jewellery Sets',
//         mrp: 550,
//         price: 505,
//         rating: 4.8,
//         review: 8
//     },
//     {
//         image: "https://images.meesho.com/images/products/63768468/sfwbe_512.jpg",
//         title: 'Sizzling Fancy Women Necklaces & Chains',
//         mrp: 116,
//         price: 108,
//         rating: 4.0,
//         review: 4
//     },
//     {
//         image: "https://images.meesho.com/images/products/60516199/py9ef_512.jpg",
//         title: 'Elite Glittering Women Necklaces & Chains',
//         mrp: 214,
//         price: 197,
//         rating: 3.9,
//         review: 6
//     },
//     {
//         image: "https://images.meesho.com/images/products/8804180/fbeb4_512.jpg",
//         title: 'Allure Chunky Rings',
//         mrp: 224,
//         price: 154,
//         rating: 3.3,
//         review: 12
//     },
//     {
//         image: "https://images.meesho.com/images/products/22573982/50b05_512.jpg",
//         title: 'Elite Bejeweled Rings',
//         mrp: 169,
//         price: 119,
//         rating: 4.3,
//         review: 1
//     },
//     {
//         image: "https://images.meesho.com/images/products/70707688/dvqli_512.jpg",
//         title: 'Allure Bejeweled Pendants & Chain',
//         mrp: 461,
//         price: 361,
//         rating: 4.5,
//         review: 4
//     },
//     {
//         image: "https://images.meesho.com/images/products/66399842/knemj_512.jpg",
//         title: 'Allure Graceful Women Necklaces & Chains',
//         mrp: 155,
//         price: 118,
//         rating: 4.7,
//         review: 6
//     },
//     {
//         image: "https://images.meesho.com/images/products/78631275/sm8e2_512.jpg",
//         title: 'Shimmering Charming Women Necklaces & Chains',
//         mrp: 649,
//         price: 549,
//         rating: 5.0,
//         review: 22
//     },
//     {
//         image: "https://images.meesho.com/images/products/68873196/sjk1m_512.jpg",
//         title: 'Allure Glittering Women Necklaces & Chains',
//         mrp: 244,
//         price: 171,
//         rating: 3.9,
//         review: 9
//     },
//     {
//         image: "https://images.meesho.com/images/products/38043239/igs5s_512.jpg",
//         title: 'Twinkling Elegant Earrings',
//         mrp: 153,
//         price: 105,
//         rating: 5.0,
//         review: 3
//     },
//     {
//         image: "https://images.meesho.com/images/products/56331133/arxot_512.jpg",
//         title: 'Sizzling Glittering Women Necklaces & Chains',
//         mrp: 235,
//         price: 165,
//         rating: 3.8,
//         review: 7
//     },
//     {
//         image: "https://images.meesho.com/images/products/65339846/bc3mi_512.jpg",
//         title: 'Fancy Men Bracelets',
//         mrp: 342,
//         price: 242,
//         rating: 4.9,
//         review: 5
//     },
//     {
//         image: "https://images.meesho.com/images/products/4028878/1_512.jpg",
//         title: 'Elite Colorful Jewellery Sets',
//         mrp: 433,
//         price: 333,
//         rating: 3.9,
//         review: 18
//     },
//     {
//         image: "https://images.meesho.com/images/products/43690888/qzlxf_512.jpg",
//         title: 'Allure Bejeweled Women Necklaces & Chains',
//         mrp: 169,
//         price: 119,
//         rating: 4.6,
//         review: 7
//     },
//     {
//         image: "https://images.meesho.com/images/products/60215002/bslvn_512.jpg",
//         title: 'Twinkling Graceful Women Necklaces & Chains',
//         mrp: 762,
//         price: 662,
//         rating: 4.3,
//         review: 9
//     },
//     {
//         image: "https://images.meesho.com/images/products/71116964/yx5fv_512.jpg",
//         title: 'Twinkling Graceful Women Necklaces & Chains',
//         mrp: 7700,
//         price: 7600,
//         rating: 4.3,
//         review: 1
//     },
//     {
//         image: "https://images.meesho.com/images/products/12386742/8a941_512.jpg",
//         title: 'Elite Graceful Rings',
//         mrp: 133,
//         price: 94,
//         rating: 2.0,
//         review: 1
//     },
//     {
//         image: "https://images.meesho.com/images/products/22555916/b2029_512.jpg",
//         title: 'Elite Chunky Rings',
//         mrp: 353,
//         price: 253,
//         rating: 4.5,
//         review: 11
//     },
//     {
//         image: "https://images.meesho.com/images/products/16004431/9720d_512.jpg",
//         title: 'Sizzling Bejeweled Women Necklaces & Chains',
//         mrp: 223,
//         price: 177,
//         rating: 4.0,
//         review: 7
//     },
//     {
//         image: "https://images.meesho.com/images/products/70164185/u4a4d_512.jpg",
//         title: 'Fancy Earrings & Studs',
//         mrp: 554,
//         price: 454,
//         rating: 2.7,
//         review: 2
//     },
//     {
//         image: "https://images.meesho.com/images/products/79969247/eevpb_512.jpg",
//         title: 'Allure Beautiful Jewellery Sets',
//         mrp: 3974,
//         price: 3874,
//         rating: 3.9,
//         review: 4
//     },
//     {
//         image: "https://images.meesho.com/images/products/17766996/7b800_512.jpg",
//         title: 'Allure Graceful Rings',
//         mrp: 554,
//         price: 540,
//         rating: 5.0,
//         review: 3
//     },
//     {
//         image: "https://images.meesho.com/images/products/64481790/gl5bs_512.jpg",
//         title: 'Allure Beautiful Jewellery Sets',
//         mrp: 4918,
//         price: 4818,
//         rating: 4.7,
//         review: 7
//     },
//     {
//         image: "https://images.meesho.com/images/products/22123580/58db3_512.jpg",
//         title: 'Fancy Men Finger Rings',
//         mrp: 224,
//         price: 208,
//         rating: 3.1,
//         review: 4
//     },
//     {
//         image: "https://images.meesho.com/images/products/79979109/i8oq0_512.jpg",
//         title: 'Princess Graceful Jewellery Sets',
//         mrp: 3944,
//         price: 3844,
//         rating: 4.9,
//         review: 7
//     },
//     {
//         image: "https://images.meesho.com/images/products/62516647/14hw1_512.jpg",
//         title: 'Elite Glittering Women Necklaces & Chains',
//         mrp: 293,
//         price: 206,
//         rating: 4.5,
//         review: 19
//     },
//     {
//         image: "https://images.meesho.com/images/products/48107136/jhbgh_512.jpg",
//         title: 'Shimmering Beautiful Bracelet & Bangles',
//         mrp: 349,
//         price: 249,
//         rating: 5.0,
//         review: 5
//     },
//     {
//         image: "https://images.meesho.com/images/products/79915098/ucnh2_512.jpg",
//         title: 'Elite Beautiful Jewellery Sets',
//         mrp: 3957,
//         price: 3857,
//         rating: 3.8,
//         review: 12
//     },
//     {
//         image: "https://images.meesho.com/images/products/35862572/nzkx3_512.jpg",
//         title: 'Shimmering Colorful Earrings',
//         mrp: 174,
//         price: 124,
//         rating: 4.5,
//         review: 3
//     },
//     {
//         image: "https://images.meesho.com/images/products/34023309/caveu_512.jpg",
//         title: 'Princess Unique Earrings',
//         mrp: 545,
//         price: 335,
//         rating: 5.0,
//         review: 8
//     }

// ];


let url = `http://127.0.0.1:3000/jwellery` ; // this url will be of backend Server
async function fetchAPI(){
    try {
        let res = await fetch(url);
        let data = await res.json();
        appenddata(data);
        console.log(data);
    } catch (error) {
        console.log("error : ",error);
    }
}

// lets call below fetchAPI.
fetchAPI();

// appenddata(dataarr)

function appenddata(data) {
    data.forEach((el) => {

        console.log(el.title)
        var product_div = document.createElement("div")
        product_div.setAttribute("id", "product_div")
        product_div.addEventListener("click", function () {
            product_description(el);
        });


        var product_img = document.createElement("img");
        product_img.src = el.image;

        var product_title = document.createElement("p")
        product_title.setAttribute("id", "product_title")
        product_title.innerText = el.title;

        //creating a div to store product price-------------------------------------------

        var product_price_div = document.createElement("div")
        product_price_div.setAttribute("id", "product_price_div")

        var product_price = document.createElement("p");
        product_price.setAttribute("id", "product_price")
        product_price.innerText = `₹${el.price}`;

        var mrp = document.createElement("p")
        mrp.setAttribute("id", "mrp");
        mrp.innerText = `₹${el.mrp}`;

        var per_discount = document.createElement("p")
        per_discount.setAttribute("id", "per_discount")
        per_discount.innerText = `${Math.round(Math.random() * (50 - 20) + 20)}% off`;

        product_price_div.append(product_price, mrp, per_discount)

        //creating a div to store extra discount------------------------------------------------------------------------

        var ext_discount = document.createElement("div")
        ext_discount.setAttribute("id", "ext_discount")

        var discount_img = document.createElement("img")
        discount_img.setAttribute("id", "discount_img")
        discount_img.src = "https://i.postimg.cc/Kzk9hV5x/discount-3.png"

        var text = document.createElement("p")
        text.setAttribute("id", "text")
        text.innerText = `₹100 discount on 1st order`

        ext_discount.append(discount_img, text)


        //creating a div to store the free delivery--------------------------------------------------------------------

        var delivery = document.createElement("div")
        delivery.setAttribute("id", "delivery")

        var product_delivery = document.createElement("p")
        product_delivery.setAttribute("id", "product_delivery")
        product_delivery.innerText = "Free Delivery"

        delivery.append(product_delivery);

        //creating a div to store the product rating and product review-----------------------------------------------------

        var product_rating_div = document.createElement("div");
        product_rating_div.setAttribute("id", "product_rating_div")


        product_rating_container = document.createElement("div")
        product_rating_container.setAttribute("id", "product_rating_container")


        var product_rating = document.createElement("p")
        product_rating.setAttribute("id", "product_rating")
        product_rating.innerText = `${el.rating}⋆`;

        product_rating_container.append(product_rating);

        var product_review = document.createElement("p");
        product_review.setAttribute("id", "product_review")
        product_review.innerText = `${el.review} Reviews`

        product_rating_div.append(product_rating_container, product_review)

        product_div.append(product_img, product_title, product_price_div, ext_discount, delivery, product_rating_div)

        document.querySelector("#container").append(product_div)
    });
}

<<<<<<< HEAD
=======
//creating sort functionality for the products--------------------------------------------------------------------
>>>>>>> 1f116f6926cfa9ace027ce89a265b5f901ed55bc
async function handleprice() {

    var shortv = document.querySelector("#select_tag").value
    let res = await fetch(url);
    let data = await res.json();

    let res = await fetch(url);
    let data = await res.json();

    if (shortv == "high") {
        data.sort(function (a, b) {
            return Number(b.price) - Number(a.price);
        });
    }
    if (shortv == "low") {
        data.sort(function (a, b) {
            return Number(a.price) - Number(b.price);
        });
    }
    if (shortv == "rating") {
        data.sort(function (a, b) {
            return Number(b.rating) - Number(a.rating)
        })
    }
    document.querySelector("#container").innerHTML = "";
    appenddata(data);
<<<<<<< HEAD
    console.log("yes")
=======
>>>>>>> 1f116f6926cfa9ace027ce89a265b5f901ed55bc
}

function product_description(el) {
    data = JSON.stringify(el)
    localStorage.setItem("product_detail", data)
    window.location.href = 'product_description.html'
}
